<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Mon Aug 26 16:48:06 2013 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p><b>NAME</b></p>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="90%">
<p><tt><b>wsh-add-hostkeys</b></tt> &minus; add hostkeys of
multiple machines to known_hosts</p></td>
</table>

<p><b>SYNOPSIS</b></p>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="90%">
<p><tt><b>wsh-add-hostkeys</b></tt>
[<tt><b>&minus;p</b></tt> | <tt><b>&minus;-port</b></tt>
<tt><i>port</i></tt>] [<tt><b>&minus;u</b></tt> |
<tt><b>&minus;-username</b></tt> <tt><i>username</i></tt>]
[<tt><b>&minus;P</b></tt> |
<tt><b>&minus;-password</b></tt>] [<tt><b>&minus;t</b></tt>
| <tt><b>&minus;-threads</b></tt> <tt><i>threads</i></tt>]
[<tt><b>&minus;f</b></tt> | <tt><b>&minus;-force</b></tt>]
[<tt><b>&minus;r</b></tt> | <tt><b>&minus;-range</b></tt>]
<tt><i>hostnames</i></tt></p></td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="39%"></td>
<td width="60%">
<p><b>DESCRIPTION</b></p></td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="90%">
<p><tt><b>wsh-add-hostkeys</b></tt> logs into multiple hosts
and adds their hostkeys to your known_hosts files.</p></td>
</table>
<pre><b>       &minus;p</b> | <b>&minus;-port</b> <i>port</i></pre>
<!-- INDENTATION -->

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="12%"></td>
<td width="87%">
<p>Use a different port for ssh. By default, 22 is
used.<tt><b><br>
&minus;u</b></tt> | <tt><b>&minus;-username</b></tt>
<tt><i>username</i></tt><br>
Use a different username for SSH. By default, the username
of the current user is used.<tt><b><br>
&minus;p</b></tt> | <tt><b>&minus;-password</b></tt><br>
Prompt for the SSH password. If this argument is not
provided, then <tt><b>wsh-add-hostkeys</b></tt> will assume
that you are using pubkeys or an agent.<tt><b><br>
&minus;t</b></tt> | <tt><b>&minus;-threads</b></tt>
<tt><i>threads</i></tt><br>
Spawn off <tt><i>threads</i></tt> number of threads. If this
flag is not given, then <tt><b>wsh-add-hostkeys</b></tt>
will execute sequentially.<tt><b><br>
&minus;f</b></tt> | <tt><b>&minus;-force</b></tt><br>
Add hostkeys even if they have changed.<tt><b><br>
&minus;r</b></tt> | <tt><b>&minus;-range</b></tt><br>
If <tt><b>wsh-add-hostkeys</b></tt> is built with range
support, the argument to <tt><i>hostnames</i></tt> will be
resolved by libcrange.<tt><i><br>
hostnames</i></tt><br>
A comma separated list of hostnames to SSH into.</p>
<!-- INDENTATION -->
<p><b>EXIT STATUS</b></p></td>
</table>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="90%">
<p>The <tt><b>wsh-add-hostkeys</b></tt> utility exits 0 on
success, and &gt;0 if an error occurs.</p></td>
</table>

<p><b>SEE ALSO</b></p>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="90%">
<p><tt>wshc</tt>(1) <tt>wshd</tt>(1)</p></td>
</table>

<p><b>AUTHORS</b></p>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="90%">
<p>William Orr
&lang;<tt>will@worrbase.com</tt>&rang;</p></td>
</table>

<p><b>SECURITY CONSIDERATIONS</b></p>
<!-- INDENTATION -->
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="90%">
<p>This will add hostkeys of all of the remote servers
specified. Make sure your network and your hosts are in a
known, good state prior to running
<tt><b>wsh-add-hostkeys<br>
wsh-add-hostkeys</b></tt> prompts for your passwords and
stores them in memory. A page of memory is <tt>mlock</tt>(2)
and the password is kept encrypted in memory. With some
knowledge of the source and some time, it is possible to
fetch the password from memory and decrypt it.<br>
As soon as <tt><b>wsh-add-hostkeys</b></tt> is done with the
password, it is scrubbed from memory with
<tt>memset_s</tt>(3)<br>
The input buffer is directed to the <tt>mlock</tt>(2) page
of memory with <tt>setvbuf</tt>(3) and also scrubbed with
<tt>memset_s</tt>(3) after use.</p>
<!-- INDENTATION -->
<p>BSD August 26, 2013 1</p></td>
</table>
<hr>
</body>
</html>
